webpackJsonp([1,0],[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(11),r=i(n),s=o(90),a=i(s),c=o(99),l=i(c),u=o(98),p=i(u),d=o(92),h=i(d),f=o(95),v=i(f),m=o(96),g=i(m);o(63),r.default.use(l.default),r.default.use(p.default);var y=r.default.extend(a.default),_=new l.default({linkActiveClass:"active"});_.map({"/goods":{component:h.default},"/ratings":{component:v.default},"/seller":{component:g.default}}),_.start(y,"#app")},,,,,,,function(t,e,o){var i,n,r={};o(65),i=o(21),n=o(78),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(74),i=o(30),n=o(87),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(75),i=o(31),n=o(88),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(76),i=o(32),n=o(89),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},,function(t,e){"use strict";function o(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in o)if(new RegExp("("+n+")").test(e)){var r=o[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:i(r))}return e}function i(t){return("00"+t).substr(t.length)}Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=o},,,,,function(t,e,o){var i,n,r={};o(71),i=o(27),n=o(84),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,o){var i=window.localStorage.__seller__;i?(i=JSON.parse(i),i[t]||(i[t]={})):(i={},i[t]={}),i[t][e]=o,window.localStorage.__seller__=(0,a.default)(i)}function r(t,e,o){var i=window.localStorage.__seller__;if(!i)return o;if(i=JSON.parse(i)[t],!i)return o;var n=i[e];return n||o}Object.defineProperty(e,"__esModule",{value:!0});var s=o(33),a=i(s);e.saveToLocal=n,e.loadFromLocal=r},function(t,e){"use strict";function o(){var t=window.location.search,e={},o=/[?&][^?&]+=[^?&]+/g,i=t.match(o);return i&&i.forEach(function(t){var o=t.substring(1).split("="),i=decodeURIComponent(o[0]),n=decodeURIComponent(o[1]);e[i]=n}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.urlParse=o},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(34),r=i(n),s=o(93),a=i(s),c=o(19);e.default={data:function(){return{seller:{id:function(){var t=(0,c.urlParse)();return t.id}()}}},created:function(){var t=this;this.$http.get("https://wkongl.github.io/Vue-takeaway/data.json").then(function(e){e=e.body,t.seller=(0,r.default)({},t.seller,e.seller)},function(t){})},components:{"v-header":a.default}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(11),r=i(n);e.default={props:{food:{type:Object}},methods:{addCount:function(t){t._constructed&&(this.food.count?this.food.count++:r.default.set(this.food,"count",1),this.$dispatch("cart.add",t.target),this.$dispatch("food.change",this.food))},decreaseCount:function(t){t._constructed&&this.food.count&&this.food.count--}}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),r=i(n),s=o(7),a=i(s),c=o(8),l=i(c),u=o(17),p=i(u),d=o(11),h=i(d),f=o(12),v=2;e.default={props:{food:{type:Object}},data:function(){return{showFlag:!1,selectType:v,onlyContent:!0,desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},methods:{show:function(){var t=this;this.showFlag=!0,this.selectType=v,this.onlyContent=!0,this.$nextTick(function(){t.contentScroll?t.contentScroll.refresh():t.contentScroll=new r.default(t.$els.content,{click:!0})})},hide:function(t){t._constructed&&(this.showFlag=!1)},buyFirst:function(t){t._constructed&&(this.$dispatch("cart.add",t.target),h.default.set(this.food,"count",1))},ratingShow:function(t,e){return!(this.onlyContent&&!e)&&(this.selectType===v||this.selectType===t)}},events:{"select.type":function(t){var e=this;this.selectType=t,this.$nextTick(function(){e.contentScroll.refresh()})},"select.only":function(t){var e=this;this.onlyContent=t,this.$nextTick(function(){e.contentScroll.refresh()})}},filters:{formatDate:function(t){var e=new Date(t);return(0,f.formatDate)(e,"yyyy-MM-dd hh:mm")}},components:{cartcontrol:a.default,split:l.default,ratingselect:p.default}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(10),r=i(n),s=o(97),a=i(s),c=o(7),l=i(c),u=o(91),p=i(u),d=o(1),h=i(d);e.default={props:{seller:{type:Object}},data:function(){return{goods:[],listHeight:[],scrollY:0,selectedFood:{}}},created:function(){var t=this;this.$http.get("https://wkongl.github.io/Vue-takeaway/data.json").then(function(e){var o=e.body;t.goods=o.goods,t.$nextTick(function(){t._initScroll(),t._calculateHeight()})})},methods:{_initScroll:function(){var t=this;this.menuScroll=new h.default(this.$els.menuWrapper,{click:!0}),this.foodScroll=new h.default(this.$els.foodWrapper,{click:!0,probeType:3}),this.foodScroll.on("scroll",function(e){t.scrollY=Math.abs(Math.round(e.y))})},_drop:function(t){var e=this;this.$nextTick(function(){e.$refs.shopcart.drop(t)})},_calculateHeight:function(){var t=this.$els.foodWrapper.getElementsByClassName("food-list-hook"),e=0;this.listHeight.push(e);for(var o=0;o<t.length;o++){var i=t[o];e+=i.clientHeight,this.listHeight.push(e)}},clickMenu:function(t,e){if(e._constructed){var o=this.$els.foodWrapper.getElementsByClassName("food-list-hook"),i=o[t];this.foodScroll.scrollToElement(i,300)}},foodClick:function(t,e){e._constructed&&(this.selectedFood=t,this.$refs.foodDetail.show())}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],o=this.listHeight[t+1];if(!o||this.scrollY>=e&&this.scrollY<o)return t}return 0},selectFoods:function(){var t=[];return this.goods.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},components:{supporticon:r.default,shopcart:a.default,cartcontrol:l.default,foodDetail:p.default},events:{"cart.add":function(t){this._drop(t)},"food.change":function(t){this.selectedFood!==t&&(this.selectedFood=t)}}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(9),r=i(n),s=o(94),a=i(s),c=o(10),l=i(c);e.default={props:{seller:{type:Object}},data:function(){return{detailShow:!1}},methods:{detailShowClick:function(){this.detailShow=!0},detailHideClick:function(){this.detailShow=!1}},components:{star:r.default,littletitle:a.default,supporticon:l.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String}}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(9),r=i(n),s=o(8),a=i(s),c=o(17),l=i(c),u=o(12),p=o(1),d=i(p),h=2;e.default={props:{seller:{type:Object}},data:function(){return{ratings:[],selectType:h,onlyContent:!0}},created:function(){var t=this;this.$http.get("https://wkongl.github.io/Vue-takeaway/data.json").then(function(e){e=e.body,t.ratings=e.ratings,t.$nextTick(function(){t.scroll=new d.default(t.$els.ratings,{click:!0})})})},methods:{ratingShow:function(t,e){return!(this.onlyContent&&!e)&&(this.selectType===h||this.selectType===t)}},filters:{formatDate:function(t){var e=new Date(t);return(0,u.formatDate)(e,"yyyy-MM-dd hh:mm")}},events:{"select.type":function(t){var e=this;this.selectType=t,this.$nextTick(function(){e.contentScroll.refresh()})},"select.only":function(t){var e=this;this.onlyContent=t,this.$nextTick(function(){e.contentScroll.refresh()})}},components:{star:r.default,split:a.default,ratingselect:l.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=0,i=1,n=2;e.default={props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:n},onlyContent:{type:Boolean,default:!1},desc:{type:Object,default:function(){return{positive:"满意",negative:"不满意",all:"全部"}}}},computed:{positive:function(){return this.ratings.filter(function(t){return t.rateType===o})},negative:function(){return this.ratings.filter(function(t){return t.rateType===i})}},methods:{select:function(t,e){e._constructed&&(this.selectType=t,this.$dispatch("select.type",t))},toggleOnly:function(t){t._constructed&&(this.onlyContent=!this.onlyContent,this.$dispatch("select.only",this.onlyContent))}}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(9),r=i(n),s=o(8),a=i(s),c=o(10),l=i(c),u=o(18),p=o(1),d=i(p);e.default={props:{seller:{type:Object}},data:function(){var t=this;return{favorite:function(){return(0,u.loadFromLocal)(t.seller.id,"favorite",!1)}()}},computed:{favoriteText:function(){return this.favorite?"已收藏":"收藏"}},watch:{seller:function(){this._initScroll(),this._initPic()}},ready:function(){this._initScroll(),this._initPic()},methods:{toggleFavorite:function(t){t._constructed&&(this.favorite=!this.favorite,(0,u.saveToLocal)(this.seller.id,"favorite",this.favorite))},_initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new d.default(this.$els.seller,{click:!0})},_initPic:function(){var t=this;if(this.picScroll)this.picScroll.refresh();else if(this.seller.pics){var e=120,o=6,i=(e+o)*this.seller.pics.length-o;this.$els.picList.style.width=i+"px",this.$nextTick(function(){t.picScroll=new d.default(t.$els.picWrapper,{scrollX:!0,eventPassthrough:"vertical"})})}}},components:{star:r.default,split:a.default,supportIcon:l.default}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(7),r=i(n),s=o(1),a=i(s);e.default={props:{selectFoods:{type:Array,default:function(){return[]}},minPrice:{type:Number,default:0},deliveryPrice:{type:Number,default:0}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},payDesc:function(){if(0===this.totalPrice)return"¥"+this.minPrice+"起送";if(this.totalPrice<this.minPrice){var t=this.minPrice-this.totalPrice;return"还差¥"+t+"起送"}return"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},showList:function(){var t=this;if(!this.totalCount)return this.fold=!0,!1;var e=!this.fold;return e&&this.$nextTick(function(){t.listScroll?t.listScroll.refresh():t.listScroll=new a.default(t.$els.listContent,{click:!0})}),e}},methods:{drop:function(t){for(var e=0;e<this.balls.length;e++){var o=this.balls[e];if(!o.show)return o.show=!0,o.el=t,void this.dropBalls.push(o)}},toggleList:function(){this.totalCount&&(this.fold=!this.fold)},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},hideMask:function(){this.fold=!0},payClick:function(){this.totalPrice<this.minPrice||window.alert("支付"+this.totalPrice+"¥")}},transitions:{drop:{beforeEnter:function(t){for(var e=this.balls.length;e--;){var o=this.balls[e];if(o.show){var i=o.el.getBoundingClientRect(),n=i.left-32,r=-(window.innerHeight-i.top-22);t.style.display="",t.style.webkitTransform="translate3d(0,"+r+"px,0)",t.style.transform="translate3d(0,"+r+"px,0)";var s=t.getElementsByClassName("inner-hook")[0];s.style.webkitTransform="translate3d("+n+"px,0,0)",s.style.transform="translate3d("+n+"px,0,0)"}}},enter:function(t){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var e=t.getElementsByClassName("inner-hook")[0];e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)"})},afterEnter:function(t){var e=this.dropBalls.shift();e&&(e.show=!1,t.style.display="none")}}},components:{cartcontrol:r.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=5,i="half",n="off",r="on";e.default={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},starClasses:function(){for(var t=[],e=Math.floor(this.score),s=0!==Math.floor(this.score%1*2),a=0;a<e;a++)t.push(r);for(s&&t.push(i);t.length<o;)t.push(n);return t}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{format:{type:Number},supporttype:{type:Number}},computed:{iconType:function(){var t=["decrease","discount","special","invoice","guarantee"];return null==t[this.supporttype]?"":"icon-"+this.format+" "+t[this.supporttype]}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=' <div> <v-header :seller=seller></v-header> <div class="tab border-1px"> <div class=tab-item> <a v-link="{path: \'/goods\'}">商品</a> </div> <div class=tab-item> <a v-link="{path: \'/ratings\'}">评价</a> </div> <div class=tab-item> <a v-link="{path: \'/seller\'}">商家</a> </div> </div> <router-view :seller=seller keep-alive></router-view> </div> '},function(t,e){t.exports=' <div class=cartcontrol> <div class=decrease v-show="food.count>0" @click.stop.prevent=decreaseCount transition=move> <span class="inner icon-remove_circle_outline"></span> </div> <div class=count v-show="food.count>0">{{food.count}}</div> <div class="add icon-add_circle" @click.stop.prevent=addCount></div> </div> '},function(t,e){t.exports=' <div class=food v-show=showFlag transition=move v-el:content> <div class=food-content> <div class=header> <img :src=food.image> <div class=back @click=hide> <i class=icon-arrow_lift></i> </div> </div> <div class=content> <h1 class=title>{{food.name}}</h1> <div class=extra> <span class=sales>月售{{food.sellCount}}份</span><span>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>¥{{food.price}}</span><span class=old v-show=food.oldPrice>¥{{food.oldPrice}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> <div class=buy-cart v-show="!this.food.count || this.food.count === 0" @click=buyFirst transition=fade>加入购物车</div> </div> <split v-show=food.info></split> <div class=info v-show=food.info> <h1 class=title>商品介绍</h1> <p class=desc>{{food.info}}</p> </div> <split></split> <div class=rating-comment> <h1 class=title>商品评价</h1> <ratingselect :select-type=selectType :only-content=onlyContent :desc=desc :ratings=food.ratings></ratingselect> </div> <div class=rating-wrapper> <ul v-show="food.ratings && food.ratings.length"> <li class=rating-item v-for="rating in food.ratings" v-show="ratingShow(rating.rateType, rating.text)"> <div class=time>{{rating.rateTime | formatDate}}</div> <p class=rating-content><i :class="{\'icon-thumb_up\':rating.rateType ===0,\'icon-thumb_down\':rating.rateType===1}"></i>{{rating.text}}</p> <div class=user> <span class=name>{{rating.username}}</span> <img class=avatar :src=rating.avatar> </div> </li> </ul> <div class=no-rating v-show="!food.ratings || food.ratings.length">暂无评价</div> </div> </div> </div> '},function(t,e){t.exports=' <div class=goods> <div class=menu-wrapper v-el:menu-wrapper> <ul> <li class=menu-item v-for="item in goods" :class="{\'current\':currentIndex === $index}" @click="clickMenu($index, $event)"> <span class="text border-1px"><supporticon :format=3 :supporttype=item.type></supporticon>{{item.name}}</span> </li> </ul> </div> <div class=foods-wrapper v-el:food-wrapper> <ul> <li class="food-list food-list-hook" v-for="good in goods"> <h1 class=title>{{good.name}}</h1> <ul> <li class="food-item border-1px" v-for="food in good.foods" @click="foodClick(food, $event)"> <div class=icon> <img :src=food.icon> </div> <div class=content> <h2 class=name>{{food.name}}</h2> <p class=desc>{{food.description}}</p> <div class=extra> <span class=sales>月售{{food.sellCount}}份</span><span>好评率{{food.rating}}%</span> </div> <div class=price> <span class=now>¥{{food.price}}</span><span class=old v-show=food.oldPrice>¥{{food.oldPrice}}</span> </div> <div class=control-wrapper> <cartcontrol :food=food></cartcontrol> </div> </div> </li> </ul> </li> </ul> </div> <shopcart v-ref:shopcart :min-price=seller.minPrice :delivery-price=seller.deliveryPrice :select-foods=selectFoods></shopcart> </div> <food-detail :food=selectedFood v-ref:food-detail></food-detail> '},function(t,e){t.exports=' <div class=header> <div class=content-wrapper> <div class=avatar> <img :src=seller.avatar> </div> <div class=content> <div class=title> <span class=brand></span> <span class=name>{{seller.name}}</span> </div> <div class=description>{{seller.description}}/{{seller.deliveryTime}}分钟到达</div> <div class=support v-if=seller.supports> <supporticon :format=1 :supporttype=seller.supports[0].type></supporticon> <span class=text>{{seller.supports[0].description}}</span> </div> </div> <div class=support-count v-if=seller.supports @click=detailShowClick> <span class=count>{{seller.supports.length}}个</span> <i class=icon-keyboard_arrow_right></i> </div> </div> <div class=bulletin-wrapper @click=detailShowClick> <span class=bulletin-icon></span> <span class=bulletin-text>{{seller.bulletin}}</span> <i class=icon-keyboard_arrow_right></i> </div> <div class=background> <img :src=seller.avatar> </div> <div class=detail v-show=detailShow transition=fade> <div class="detail-wrapper clearfix"> <div class=detail-main> <h1 class=name>{{seller.name}}</h1> <div class=star-wrapper> <star :size=48 :score=seller.score></star> </div> <div class=title-wrapper> <littletitle title=优惠信息></littletitle> </div> <ul class=supports v-if=seller.supports> <li class=support-item v-for="item in seller.supports"> <supporticon :format=2 :supporttype=item.type></supporticon> <span class=text>{{item.description}}</span> </li> </ul> <div class=title-wrapper> <littletitle title=商家公告></littletitle> </div> <div class=bulletin> <p class=content>{{seller.bulletin}}</p> </div> </div> </div> <div class=detail-close @click=detailHideClick> <i class=icon-close></i> </div> </div> </div> '},function(t,e){t.exports=" <div class=title-wrapper> <div class=line></div> <div class=text>{{title}}</div> <div class=line></div> </div> "},function(t,e){t.exports=' <div class=rating v-el:ratings> <div class=rating-content> <div class=overview> <div class=overview-left> <h1 class=score>{{seller.score}}</h1> <div class=title>综合评分</div> <div class=rank>高于周边商家{{seller.rankRate}}%</div> </div> <div class=overview-right> <div class=score-wrapper> <span class=title>服务态度</span> <star :size=36 :score=seller.serviceScore></star> <span class=score>{{seller.serviceScore}}</span> </div> <div class=score-wrapper> <span class=title>商品评分</span> <star :size=36 :score=seller.foodScore></star> <span class=score>{{seller.foodScore}}</span> </div> <div class=time-wrapper> <span class=title>送达时间</span> <span class=time>{{seller.deliveryTime}}分钟</span> </div> </div> </div> <split></split> <ratingselect :select-type=selectType :only-content=onlyContent :ratings=ratings></ratingselect> <div class=rating-wrapper> <ul> <li class="rating-item border-1px" v-for="rating in ratings" v-show="ratingShow(rating.rateType, rating.text)"> <div class=avatar> <img :src=rating.avatar> </div> <div class=content> <h1 class=name>{{rating.username}}</h1> <div class=star-wrapper> <star :size=24 :score=rating.score></star> <span class=delivery-time v-show=rating.deliveryTime>{{rating.deliveryTime}}分钟送达</span> </div> <p class=text>{{rating.text}}</p> <div class=recommend-wrapper> <i :class="{\'icon-thumb_up\':rating.rateType ===0,\'icon-thumb_down\':rating.rateType===1}"></i> <span class=recommend v-for="item in rating.recommend">{{item}}</span> </div> <div class=time>{{rating.rateTime | formatDate}}</div> </div> </li> </ul> </div> </div> </div> '},function(t,e){t.exports=' <div class=ratingselect> <div class="ratingtype border-1px"> <span class="block positive" :class="{\'active\': selectType===2}" @click=select(2,$event)>{{desc.all}}<span class=count>{{ratings.length}}</span></span> <span class="block positive" :class="{\'active\': selectType===0}" @click=select(0,$event)>{{desc.positive}}<span class=count>{{positive.length}}</span></span> <span class="block negative" :class="{\'active\': selectType===1}" @click=select(1,$event)>{{desc.negative}}<span class=count>{{negative.length}}</span></span> </div> <div class="switch border-1px" :class="{\'on\':onlyContent}" @click=toggleOnly> <i class=icon-check_circle></i> <span class=text>只看有内容的评价</span> </div> </div> '},function(t,e){t.exports=' <div class=seller v-el:seller> <div class=seller-content> <div class=overview> <h1 class=title>{{seller.name}}</h1> <div class="desc border-1px"> <star :size=36 :score=seller.score></star> <span class=rating-count>({{seller.ratingCount}})</span> <span class=sell-count>月售{{seller.sellCount}}单</span> </div> <ul class=remarks> <li class=block> <h2 class=title>起送价</h2> <div class=content> <span class=stress>{{seller.minPrice}}</span>元 </div> </li> <li class=block> <h2 class=title>商家配送</h2> <div class=content> <span class=stress>{{seller.deliveryPrice}}</span>元 </div> </li> <li class=block> <h2 class=title>平均配送时间</h2> <div class=content> <span class=stress>{{seller.deliveryTime}}</span>分钟 </div> </li> </ul> <div class=favorite-wrapper @click=toggleFavorite> <i class=icon-favorite :class="{\'active\':favorite}"></i> <span class=text>{{favoriteText}}</span> </div> </div> <split></split> <div class=bulletin> <h1 class=title>公告与活动</h1> <div class="text-content border-1px"> <p class=text>{{seller.bulletin}}</p> </div> <ul class=supports v-if=seller.supports> <li class=support-item v-for="item in seller.supports"> <support-icon :format=4 :supporttype=item.type></support-icon> <span class=text>{{item.description}}</span> </li> </ul> </div> <split></split> <div class=pics> <h1 class=title>商家实景</h1> <div class=pics-wrapper v-el:pic-wrapper> <ul class=pic-list v-el:pic-list> <li class=pic-item v-for="pic in seller.pics"> <img :src=pic> </li> </ul> </div> </div> <split></split> <div class=info> <h1 class="title border-1px">商家信息</h1> <ul> <li class="info-item border-1px" v-for="info in seller.infos">{{info}}</li> </ul> </div> </div> </div> '},function(t,e){t.exports=' <div class=shop-cart> <div class=content @click=toggleList> <div class=content-left> <div class=cart-wrapper> <div class=icon :class="{\'heightlight\':totalCount>0}"> <i class=icon-shopping_cart :class="{\'heightlight\':totalCount>0}"></i> </div> <div class=num v-show="totalCount>0">{{totalCount}}</div> </div> <div class=price :class="{\'heightlight\':totalPrice>0}">¥{{totalPrice}}</div> <div class=delivery-price>另需配送费¥{{deliveryPrice}}元</div> </div> <div class=content-right @click.stop.prevent=payClick> <div class=pay :class=payClass>{{payDesc}}</div> </div> </div> <div class=ball-container> <div transition=drop v-for="ball in balls" v-show=ball.show class=ball> <div class="inner inner-hook"></div> </div> </div> <div class=list-shopcart v-show=showList transition=fold> <div class=list-header> <h1 class=title>购物车</h1> <span class=empty @click=empty>清空</span> </div> <div class=list-content v-el:list-content> <ul> <li class=food v-for="food in selectFoods"> <span class=name>{{food.name}}</span> <div class=price> <span>¥{{food.price*food.count}}</span> </div> <div class=cartcontrol-wrapper> <cartcontrol :food=food></cartcontrol> </div> </li> </ul> </div> </div> </div> <div class=list-mask v-show=showList transition=fade @click=hideMask></div> '},function(t,e){t.exports=" <div class=split></div> "},function(t,e){t.exports=' <div class=star :class=starType> <span class=star-item :class=starClass v-for="starClass in starClasses" track-by=$index></span> </div> '},function(t,e){t.exports=" <span class=icon :class=iconType></span> "},function(t,e,o){var i,n,r={};o(64),i=o(20),n=o(77),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(66),i=o(22),n=o(79),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(67),i=o(23),n=o(80),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(68),i=o(24),n=o(81),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(69),i=o(25),n=o(82),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(70),i=o(26),n=o(83),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(72),i=o(28),n=o(85),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},function(t,e,o){var i,n,r={};o(73),i=o(29),n=o(86),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default);var s="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(s.template=n),s.computed||(s.computed={}),Object.keys(r).forEach(function(t){var e=r[t];s.computed[t]=function(){return e}})},,function(t,e,o){/*!
	 * vue-router v0.7.13
	 * (c) 2016 Evan You
	 * Released under the MIT License.
	 */
!function(e,o){t.exports=o()}(this,function(){"use strict";function t(t,e,o){this.path=t,this.matcher=e,this.delegate=o}function e(t){this.routes={},this.children={},this.target=t}function o(e,i,n){return function(r,s){var a=e+r;return s?void s(o(a,i,n)):new t(e+r,i,n)}}function i(t,e,o){for(var i=0,n=0,r=t.length;n<r;n++)i+=t[n].path.length;e=e.substr(i);var s={path:e,handler:o};t.push(s)}function n(t,e,o,r){var s=e.routes;for(var a in s)if(s.hasOwnProperty(a)){var c=t.slice();i(c,a,s[a]),e.children[a]?n(c,e.children[a],o,r):o.call(r,c)}}function r(t,i){var r=new e;t(o("",r,this.delegate)),n([],r,function(t){i?i(this,t):this.add(t)},this)}function s(t){U||"undefined"==typeof console||console.error("[vue-router] "+t)}function a(t,e){try{return e?decodeURIComponent(t):decodeURI(t)}catch(o){s("malformed URI"+(e?" component: ":": ")+t)}}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t){this.string=t}function u(t){this.name=t}function p(t){this.name=t}function d(){}function h(t,e,o){"/"===t.charAt(0)&&(t=t.substr(1));var i=t.split("/"),n=[];o.val="";for(var r=0,s=i.length;r<s;r++){var a,c=i[r];(a=c.match(/^:([^\/]+)$/))?(n.push(new u(a[1])),e.push(a[1]),o.val+="3"):(a=c.match(/^\*([^\/]+)$/))?(n.push(new p(a[1])),o.val+="2",e.push(a[1])):""===c?(n.push(new d),o.val+="1"):(n.push(new l(c)),o.val+="4")}return o.val=+o.val,n}function f(t){this.charSpec=t,this.nextStates=[]}function v(t){return t.sort(function(t,e){return e.specificity.val-t.specificity.val})}function m(t,e){for(var o=[],i=0,n=t.length;i<n;i++){var r=t[i];o=o.concat(r.match(e))}return o}function g(t){this.queryParams=t||{}}function y(t,e,o){for(var i=t.handlers,n=t.regex,r=e.match(n),s=1,a=new g(o),c=0,l=i.length;c<l;c++){for(var u=i[c],p=u.names,d={},h=0,f=p.length;h<f;h++)d[p[h]]=r[s++];a.push({handler:u.handler,params:d,isDynamic:!!p.length})}return a}function _(t,e){return e.eachChar(function(e){t=t.put(e)}),t}function w(t){return t=t.replace(/\+/gm,"%20"),a(t,!0)}function x(t){"undefined"!=typeof console&&console.error("[vue-router] "+t)}function b(t,e,o){var i=t.match(/(\?.*)$/);if(i&&(i=i[1],t=t.slice(0,-i.length)),"?"===e.charAt(0))return t+e;var n=t.split("/");o&&n[n.length-1]||n.pop();for(var r=e.replace(/^\//,"").split("/"),s=0;s<r.length;s++){var a=r[s];"."!==a&&(".."===a?n.pop():n.push(a))}return""!==n[0]&&n.unshift(""),n.join("/")}function k(t){return t&&"function"==typeof t.then}function C(t,e){var o=t&&(t.$options||t.options);return o&&o.route&&o.route[e]}function $(t,e){J?J.$options.components._=t.component:J={resolve:W.Vue.prototype._resolveComponent,$options:{components:{_:t.component}}},J.resolve("_",function(o){t.component=o,e(o)})}function T(t,e,o){return void 0===e&&(e={}),t=t.replace(/:([^\/]+)/g,function(o,i){var n=e[i];return n||x('param "'+i+'" not found when generating path for "'+t+'" with params '+JSON.stringify(e)),n||""}),o&&(t+=G(o)),t}function P(t,e,o){var i=t.childVM;if(!i||!e)return!1;if(t.Component!==e.component)return!1;var n=C(i,"canReuse");return"boolean"==typeof n?n:!n||n.call(i,{to:o.to,from:o.from})}function S(t,e,o){var i=t.childVM,n=C(i,"canDeactivate");n?e.callHook(n,i,o,{expectBoolean:!0}):o()}function E(t,e,o){$(t,function(t){if(!e.aborted){var i=C(t,"canActivate");i?e.callHook(i,null,o,{expectBoolean:!0}):o()}})}function M(t,e,o){var i=t.childVM,n=C(i,"deactivate");n?e.callHooks(n,i,o):o()}function R(t,e,o,i,n){var r=e.activateQueue[o];if(!r)return j(t),t._bound&&t.setComponent(null),void(i&&i());var s=t.Component=r.component,a=C(s,"activate"),c=C(s,"data"),l=C(s,"waitForData");t.depth=o,t.activated=!1;var u=void 0,p=!(!c||l);if(n=n&&t.childVM&&t.childVM.constructor===s)u=t.childVM,u.$loadingRouteData=p;else if(j(t),t.unbuild(!0),u=t.build({_meta:{$loadingRouteData:p},created:function(){this._routerView=t}}),t.keepAlive){u.$loadingRouteData=p;var d=u._keepAliveRouterView;d&&(t.childView=d,u._keepAliveRouterView=null)}var h=function(){u.$destroy()},f=function(){if(n)return void(i&&i());var o=e.router;o._rendered||o._transitionOnLoad?t.transition(u):(t.setCurrent?t.setCurrent(u):t.childVM=u,u.$before(t.anchor,null,!1)),i&&i()},v=function(){t.childView&&R(t.childView,e,o+1,null,n||t.keepAlive),f()},m=function(){t.activated=!0,c&&l?A(u,e,c,v,h):(c&&A(u,e,c),v())};a?e.callHooks(a,u,m,{cleanup:h,postActivate:!0}):m()}function O(t,e){var o=t.childVM,i=C(o,"data");i&&A(o,e,i)}function A(t,e,o,i,n){t.$loadingRouteData=!0,e.callHooks(o,t,function(){t.$loadingRouteData=!1,t.$emit("route-data-loaded",t),i&&i()},{cleanup:n,postActivate:!0,processData:function(e){var o=[];if(V(e)&&Object.keys(e).forEach(function(i){var n=e[i];k(n)?o.push(n.then(function(e){t.$set(i,e)})):t.$set(i,n)}),o.length)return o[0].constructor.all(o)}})}function j(t){t.keepAlive&&t.childVM&&t.childView&&(t.childVM._keepAliveRouterView=t.childView),t.childView=null}function V(t){return"[object Object]"===Object.prototype.toString.call(t)}function F(t){return"[object Object]"===Object.prototype.toString.call(t)}function H(t){return t?Array.prototype.slice.call(t):[]}function D(t){var e=t.util,o=e.extend,i=e.isArray,n=e.defineReactive,r=t.prototype._init;t.prototype._init=function(t){t=t||{};var e=t._parent||t.parent||this,o=e.$router,i=e.$route;o&&(this.$router=o,o._children.push(this),this._defineMeta?this._defineMeta("$route",i):n(this,"$route",i)),r.call(this,t)};var s=t.prototype._destroy;t.prototype._destroy=function(){!this._isBeingDestroyed&&this.$router&&this.$router._children.$remove(this),s.apply(this,arguments)};var a=t.config.optionMergeStrategies,c=/^(data|activate|deactivate)$/;a&&(a.route=function(t,e){if(!e)return t;if(!t)return e;var n={};o(n,t);for(var r in e){var s=n[r],a=e[r];s&&c.test(r)?n[r]=(i(s)?s:[s]).concat(a):n[r]=a}return n})}function z(t){var e=t.util,o=t.directive("_component")||t.internalDirectives.component,i=e.extend({},o);e.extend(i,{_isRouterView:!0,bind:function(){var t=this.vm.$route;if(!t)return void x("<router-view> can only be used inside a router-enabled app.");this._isDynamicLiteral=!0,o.bind.call(this);for(var e=void 0,i=this.vm;i;){if(i._routerView){e=i._routerView;break}i=i.$parent}if(e)this.parentView=e,e.childView=this;else{var n=t.router;n._rootView=this}var r=t.router._currentTransition;if(!e&&r.done||e&&e.activated){var s=e?e.depth+1:0;R(this,r,s)}},unbind:function(){this.parentView&&(this.parentView.childView=null),o.unbind.call(this)}}),t.elementDirective("router-view",i)}function L(t){function e(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port}function o(t,e,o){if(e=e.trim(),e.indexOf(" ")===-1)return void o(t,e);for(var i=e.split(/\s+/),n=0,r=i.length;n<r;n++)o(t,i[n])}var i=t.util,n=i.bind,r=i.isObject,s=i.addClass,a=i.removeClass,c=t.directive("on").priority,l="__vue-router-link-update__",u=0;t.directive("link-active",{priority:9999,bind:function(){for(var t=this,e=String(u++),o=this.el.querySelectorAll("[v-link]"),i=0,n=o.length;i<n;i++){var r=o[i],s=r.getAttribute(l),a=s?s+","+e:e;r.setAttribute(l,a)}this.vm.$on(l,this.cb=function(o,i){o.activeIds.indexOf(e)>-1&&o.updateClasses(i,t.el)})},unbind:function(){this.vm.$off(l,this.cb)}}),t.directive("link",{priority:c-2,bind:function(){var t=this.vm;if(!t.$route)return void x("v-link can only be used inside a router-enabled app.");this.router=t.$route.router,this.unwatch=t.$watch("$route",n(this.onRouteUpdate,this));var e=this.el.getAttribute(l);e&&(this.el.removeAttribute(l),this.activeIds=e.split(",")),"A"===this.el.tagName&&"_blank"===this.el.getAttribute("target")||(this.handler=n(this.onClick,this),this.el.addEventListener("click",this.handler))},update:function(t){this.target=t,r(t)&&(this.append=t.append,this.exact=t.exact,this.prevActiveClass=this.activeClass,this.activeClass=t.activeClass),this.onRouteUpdate(this.vm.$route)},onClick:function(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||0!==t.button)){var o=this.target;if(o)t.preventDefault(),this.router.go(o);else{for(var i=t.target;"A"!==i.tagName&&i!==this.el;)i=i.parentNode;if("A"===i.tagName&&e(i)){t.preventDefault();var n=i.pathname;this.router.history.root&&(n=n.replace(this.router.history.rootRE,"")),this.router.go({path:n,replace:o&&o.replace,append:o&&o.append})}}}},onRouteUpdate:function(t){var e=this.router.stringifyPath(this.target);this.path!==e&&(this.path=e,this.updateActiveMatch(),this.updateHref()),this.activeIds?this.vm.$emit(l,this,t.path):this.updateClasses(t.path,this.el)},updateActiveMatch:function(){this.activeRE=this.path&&!this.exact?new RegExp("^"+this.path.replace(/\/$/,"").replace(st,"").replace(rt,"\\$&")+"(\\/|$)"):null},updateHref:function(){if("A"===this.el.tagName){var t=this.path,e=this.router,o="/"===t.charAt(0),i=t&&("hash"===e.mode||o)?e.history.formatPath(t,this.append):t;i?this.el.href=i:this.el.removeAttribute("href")}},updateClasses:function(t,e){var i=this.activeClass||this.router._linkActiveClass;this.prevActiveClass&&this.prevActiveClass!==i&&o(e,this.prevActiveClass,a);var n=this.path.replace(st,"");t=t.replace(st,""),this.exact?n===t||"/"!==n.charAt(n.length-1)&&n===t.replace(nt,"")?o(e,i,s):o(e,i,a):this.activeRE&&this.activeRE.test(t)?o(e,i,s):o(e,i,a)},unbind:function(){this.el.removeEventListener("click",this.handler),this.unwatch&&this.unwatch()}})}function N(t,e){var o=e.component;ct.util.isPlainObject(o)&&(o=e.component=ct.extend(o)),"function"!=typeof o&&(e.component=null,x('invalid component for route "'+t+'".'))}var I={};I.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.prototype={to:function(t,e){var o=this.delegate;if(o&&o.willAddRoute&&(t=o.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},e.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,i,n,r){var s=new e(i);this.children[t]=s;var a=o(t,s,r);r&&r.contextEntered&&r.contextEntered(i,a),n(a)}};var B=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],q=new RegExp("(\\"+B.join("|\\")+")","g"),U=!1;l.prototype={eachChar:function(t){for(var e,o=this.string,i=0,n=o.length;i<n;i++)e=o.charAt(i),t({validChars:e})},regex:function(){return this.string.replace(q,"\\$1")},generate:function(){return this.string}},u.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},p.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},d.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},f.prototype={get:function(t){for(var e=this.nextStates,o=0,i=e.length;o<i;o++){var n=e[o],r=n.charSpec.validChars===t.validChars;if(r=r&&n.charSpec.invalidChars===t.invalidChars)return n}},put:function(t){var e;return(e=this.get(t))?e:(e=new f(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,o,i,n=this.nextStates,r=[],s=0,a=n.length;s<a;s++)e=n[s],o=e.charSpec,"undefined"!=typeof(i=o.validChars)?i.indexOf(t)!==-1&&r.push(e):"undefined"!=typeof(i=o.invalidChars)&&i.indexOf(t)===-1&&r.push(e);return r}};var Q=Object.create||function(t){function e(){}return e.prototype=t,new e};g.prototype=Q({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var Y=function(){this.rootState=new f,this.names={}};Y.prototype={add:function(t,e){for(var o,i=this.rootState,n="^",r={},s=[],a=[],c=!0,l=0,u=t.length;l<u;l++){var p=t[l],f=[],v=h(p.path,f,r);a=a.concat(v);for(var m=0,g=v.length;m<g;m++){var y=v[m];y instanceof d||(c=!1,i=i.put({validChars:"/"}),n+="/",i=_(i,y),n+=y.regex())}var w={handler:p.handler,names:f};s.push(w)}c&&(i=i.put({validChars:"/"}),n+="/"),i.handlers=s,i.regex=new RegExp(n+"$"),i.specificity=r,(o=e&&e.as)&&(this.names[o]={segments:a,handlers:s})},handlersFor:function(t){var e=this.names[t],o=[];if(!e)throw new Error("There is no route named "+t);for(var i=0,n=e.handlers.length;i<n;i++)o.push(e.handlers[i]);return o},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var o=this.names[t],i="";if(!o)throw new Error("There is no route named "+t);for(var n=o.segments,r=0,s=n.length;r<s;r++){var a=n[r];a instanceof d||(i+="/",i+=a.generate(e))}return"/"!==i.charAt(0)&&(i="/"+i),e&&e.queryParams&&(i+=this.generateQueryString(e.queryParams)),i},generateQueryString:function(t){var e=[],o=[];for(var i in t)t.hasOwnProperty(i)&&o.push(i);o.sort();for(var n=0,r=o.length;n<r;n++){i=o[n];var s=t[i];if(null!=s){var a=encodeURIComponent(i);if(c(s))for(var l=0,u=s.length;l<u;l++){var p=i+"[]="+encodeURIComponent(s[l]);e.push(p)}else a+="="+encodeURIComponent(s),e.push(a)}}return 0===e.length?"":"?"+e.join("&")},parseQueryString:function(t){for(var e=t.split("&"),o={},i=0;i<e.length;i++){var n,r=e[i].split("="),s=w(r[0]),a=s.length,c=!1;1===r.length?n="true":(a>2&&"[]"===s.slice(a-2)&&(c=!0,s=s.slice(0,a-2),o[s]||(o[s]=[])),n=r[1]?w(r[1]):""),c?o[s].push(n):o[s]=n}return o},recognize:function(t,e){U=e;var o,i,n,r,s=[this.rootState],c={},l=!1;if(r=t.indexOf("?"),r!==-1){var u=t.substr(r+1,t.length);t=t.substr(0,r),u&&(c=this.parseQueryString(u))}if(t=a(t)){for("/"!==t.charAt(0)&&(t="/"+t),o=t.length,o>1&&"/"===t.charAt(o-1)&&(t=t.substr(0,o-1),l=!0),i=0,n=t.length;i<n&&(s=m(s,t.charAt(i)),s.length);i++);var p=[];for(i=0,n=s.length;i<n;i++)s[i].handlers&&p.push(s[i]);s=v(p);var d=p[0];return d&&d.handlers?(l&&"(.+)$"===d.regex.source.slice(-5)&&(t+="/"),y(d,t,c)):void 0}}},Y.prototype.map=r;var G=Y.prototype.generateQueryString,W={},J=void 0,K=/#.*$/,X=function(){function t(e){var o=e.root,i=e.onChange;I.classCallCheck(this,t),o&&"/"!==o?("/"!==o.charAt(0)&&(o="/"+o),this.root=o.replace(/\/$/,""),this.rootRE=new RegExp("^\\"+this.root)):this.root=null,this.onChange=i;var n=document.querySelector("base");this.base=n&&n.getAttribute("href")}return t.prototype.start=function(){var t=this;this.listener=function(e){var o=location.pathname+location.search;t.root&&(o=o.replace(t.rootRE,"")),t.onChange(o,e&&e.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("popstate",this.listener)},t.prototype.go=function(t,e,o){var i=this.formatPath(t,o);e?history.replaceState({},"",i):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},"",location.href),history.pushState({},"",i));var n=t.match(K),r=n&&n[0];t=i.replace(K,"").replace(this.rootRE,""),this.onChange(t,null,r)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?this.root?this.root+"/"+t.replace(/^\//,""):t:b(this.base||location.pathname,t,e)},t}(),Z=function(){function t(e){var o=e.hashbang,i=e.onChange;I.classCallCheck(this,t),this.hashbang=o,this.onChange=i}return t.prototype.start=function(){var t=this;this.listener=function(){var e=location.hash,o=e.replace(/^#!?/,"");"/"!==o.charAt(0)&&(o="/"+o);var i=t.formatPath(o);if(i!==e)return void location.replace(i);var n=location.search&&e.indexOf("?")>-1?"&"+location.search.slice(1):location.search;t.onChange(e.replace(/^#!?/,"")+n)},window.addEventListener("hashchange",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("hashchange",this.listener)},t.prototype.go=function(t,e,o){t=this.formatPath(t,o),e?location.replace(t):location.hash=t},t.prototype.formatPath=function(t,e){var o="/"===t.charAt(0),i="#"+(this.hashbang?"!":"");return o?i+t:i+b(location.hash.replace(/^#!?/,""),t,e)},t}(),tt=function(){function t(e){var o=e.onChange;I.classCallCheck(this,t),this.onChange=o,this.currentPath="/"}return t.prototype.start=function(){this.onChange("/")},t.prototype.stop=function(){},t.prototype.go=function(t,e,o){t=this.currentPath=this.formatPath(t,o),this.onChange(t)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?t:b(this.currentPath,t,e)},t}(),et=function(){function t(e,o,i){I.classCallCheck(this,t),this.router=e,this.to=o,this.from=i,this.next=null,this.aborted=!1,this.done=!1}return t.prototype.abort=function(){if(!this.aborted){this.aborted=!0;var t=!this.from.path&&"/"===this.to.path;t||this.router.replace(this.from.path||"/")}},t.prototype.redirect=function(t){this.aborted||(this.aborted=!0,"string"==typeof t?t=T(t,this.to.params,this.to.query):(t.params=t.params||this.to.params,t.query=t.query||this.to.query),this.router.replace(t))},t.prototype.start=function(t){for(var e=this,o=[],i=this.router._rootView;i;)o.unshift(i),i=i.childView;var n=o.slice().reverse(),r=this.activateQueue=H(this.to.matched).map(function(t){return t.handler}),s=void 0,a=void 0;for(s=0;s<n.length&&P(n[s],r[s],e);s++);s>0&&(a=n.slice(0,s),o=n.slice(s).reverse(),r=r.slice(s)),e.runQueue(o,S,function(){e.runQueue(r,E,function(){e.runQueue(o,M,function(){if(e.router._onTransitionValidated(e),a&&a.forEach(function(t){return O(t,e)}),o.length){var i=o[o.length-1],n=a?a.length:0;R(i,e,n,t)}else t()})})})},t.prototype.runQueue=function(t,e,o){function i(r){r>=t.length?o():e(t[r],n,function(){i(r+1)})}var n=this;i(0)},t.prototype.callHook=function(t,e,o){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=i.expectBoolean,r=void 0!==n&&n,s=i.postActivate,a=void 0!==s&&s,c=i.processData,l=i.cleanup,u=this,p=!1,d=function(){l&&l(),u.abort()},h=function(t){if(a?v():d(),t&&!u.router._suppress)throw x("Uncaught error during transition: "),t instanceof Error?t:new Error(t)},f=function(t){try{h(t)}catch(t){setTimeout(function(){throw t},0)}},v=function(){return p?void x("transition.next() should be called only once."):(p=!0,u.aborted?void(l&&l()):void(o&&o()))},m=function(e){"boolean"==typeof e?e?v():d():k(e)?e.then(function(t){t?v():d()},f):t.length||v()},g=function(t){var e=void 0;try{e=c(t)}catch(t){return h(t)}k(e)?e.then(v,f):v()},y={to:u.to,from:u.from,abort:d,next:c?g:v,redirect:function(){u.redirect.apply(u,arguments)}},_=void 0;try{_=t.call(e,y)}catch(t){return h(t)}r?m(_):k(_)?c?_.then(g,f):_.then(v,f):c&&F(_)?g(_):t.length||v()},t.prototype.callHooks=function(t,e,o,i){var n=this;Array.isArray(t)?this.runQueue(t,function(t,o,r){n.aborted||n.callHook(t,e,r,i)},o):this.callHook(t,e,o,i)},t}(),ot=/^(component|subRoutes|fullPath)$/,it=function t(e,o){var i=this;I.classCallCheck(this,t);var n=o._recognizer.recognize(e);n&&([].forEach.call(n,function(t){for(var e in t.handler)ot.test(e)||(i[e]=t.handler[e])}),this.query=n.queryParams,this.params=[].reduce.call(n,function(t,e){if(e.params)for(var o in e.params)t[o]=e.params[o];return t},{})),this.path=e,this.matched=n||o._notFoundHandler,Object.defineProperty(this,"router",{enumerable:!1,value:o}),Object.freeze(this)},nt=/\/$/,rt=/[-.*+?^${}()|[\]\/\\]/g,st=/\?.*$/,at={abstract:tt,hash:Z,html5:X},ct=void 0,lt=function(){function t(){var e=this,o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=o.hashbang,n=void 0===i||i,r=o.abstract,s=void 0!==r&&r,a=o.history,c=void 0!==a&&a,l=o.saveScrollPosition,u=void 0!==l&&l,p=o.transitionOnLoad,d=void 0!==p&&p,h=o.suppressTransitionError,f=void 0!==h&&h,v=o.root,m=void 0===v?null:v,g=o.linkActiveClass,y=void 0===g?"v-link-active":g;if(I.classCallCheck(this,t),!t.installed)throw new Error("Please install the Router with Vue.use() before creating an instance.");this.app=null,this._children=[],this._recognizer=new Y,this._guardRecognizer=new Y,this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._rendered=!1,this._transitionOnLoad=d,this._root=m,this._abstract=s,this._hashbang=n;var _="undefined"!=typeof window&&window.history&&window.history.pushState;this._history=c&&_,this._historyFallback=c&&!_;var w=ct.util.inBrowser;this.mode=!w||this._abstract?"abstract":this._history?"html5":"hash";var x=at[this.mode];this.history=new x({root:m,hashbang:this._hashbang,onChange:function(t,o,i){e._match(t,o,i)}}),this._saveScrollPosition=u,this._linkActiveClass=y,this._suppress=f}return t.prototype.map=function(t){for(var e in t)this.on(e,t[e]);return this},t.prototype.on=function(t,e){return"*"===t?this._notFound(e):this._addRoute(t,e,[]),this},t.prototype.redirect=function(t){for(var e in t)this._addRedirect(e,t[e]);return this},t.prototype.alias=function(t){for(var e in t)this._addAlias(e,t[e]);return this},t.prototype.beforeEach=function(t){return this._beforeEachHooks.push(t),this},t.prototype.afterEach=function(t){return this._afterEachHooks.push(t),this},t.prototype.go=function(t){var e=!1,o=!1;ct.util.isObject(t)&&(e=t.replace,o=t.append),t=this.stringifyPath(t),t&&this.history.go(t,e,o)},t.prototype.replace=function(t){"string"==typeof t&&(t={path:t}),t.replace=!0,this.go(t)},t.prototype.start=function(t,e,o){if(this._started)return void x("already started.");if(this._started=!0,this._startCb=o,!this.app){if(!t||!e)throw new Error("Must start vue-router with a component and a root container.");if(t instanceof ct)throw new Error("Must start vue-router with a component, not a Vue instance.");this._appContainer=e;var i=this._appConstructor="function"==typeof t?t:ct.extend(t);i.options.name=i.options.name||"RouterApp"}if(this._historyFallback){var n=window.location,r=new X({root:this._root}),s=r.root?n.pathname.replace(r.rootRE,""):n.pathname;if(s&&"/"!==s)return void n.assign((r.root||"")+"/"+this.history.formatPath(s)+n.search)}this.history.start()},t.prototype.stop=function(){this.history.stop(),this._started=!1},t.prototype.stringifyPath=function(t){var e="";if(t&&"object"==typeof t){if(t.name){var o=ct.util.extend,i=this._currentTransition&&this._currentTransition.to.params,n=t.params||{},r=i?o(o({},i),n):n;e=encodeURI(this._recognizer.generate(t.name,r))}else t.path&&(e=encodeURI(t.path));if(t.query){var s=this._recognizer.generateQueryString(t.query);e+=e.indexOf("?")>-1?"&"+s.slice(1):s}}else e=encodeURI(t?t+"":"");return e},t.prototype._addRoute=function(t,e,o){if(N(t,e),e.path=t,e.fullPath=(o.reduce(function(t,e){return t+e.path},"")+t).replace("//","/"),o.push({path:t,handler:e}),this._recognizer.add(o,{as:e.name}),e.subRoutes)for(var i in e.subRoutes)this._addRoute(i,e.subRoutes[i],o.slice())},t.prototype._notFound=function(t){N("*",t),this._notFoundHandler=[{handler:t}]},t.prototype._addRedirect=function(t,e){"*"===t?this._notFoundRedirect=e:this._addGuard(t,e,this.replace)},t.prototype._addAlias=function(t,e){this._addGuard(t,e,this._match)},t.prototype._addGuard=function(t,e,o){var i=this;this._guardRecognizer.add([{path:t,handler:function(t,n){var r=T(e,t.params,n);o.call(i,r)}}])},t.prototype._checkGuard=function(t){var e=this._guardRecognizer.recognize(t,!0);return e?(e[0].handler(e[0],e.queryParams),!0):this._notFoundRedirect&&(e=this._recognizer.recognize(t),!e)?(this.replace(this._notFoundRedirect),!0):void 0},t.prototype._match=function(t,e,o){var i=this;if(!this._checkGuard(t)){var n=this._currentRoute,r=this._currentTransition;if(r){if(r.to.path===t)return;if(n.path===t)return r.aborted=!0,void(this._currentTransition=this._prevTransition);r.aborted=!0}var s=new it(t,this),a=new et(this,s,n);this._prevTransition=r,this._currentTransition=a,this.app||!function(){var t=i;i.app=new i._appConstructor({el:i._appContainer,created:function(){this.$router=t},_meta:{$route:s}})}();var c=this._beforeEachHooks,l=function(){a.start(function(){i._postTransition(s,e,o)})};c.length?a.runQueue(c,function(t,e,o){a===i._currentTransition&&a.callHook(t,null,o,{expectBoolean:!0})},l):l(),!this._rendered&&this._startCb&&this._startCb.call(null),this._rendered=!0}},t.prototype._onTransitionValidated=function(t){var e=this._currentRoute=t.to;this.app.$route!==e&&(this.app.$route=e,this._children.forEach(function(t){t.$route=e})),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(e){return e.call(null,{to:t.to,from:t.from})}),this._currentTransition.done=!0},t.prototype._postTransition=function(t,e,o){var i=e&&e.pos;i&&this._saveScrollPosition?ct.nextTick(function(){window.scrollTo(i.x,i.y)}):o&&ct.nextTick(function(){var t=document.getElementById(o.slice(1));t&&window.scrollTo(window.scrollX,t.offsetTop)})},t}();return lt.installed=!1,lt.install=function(t){return lt.installed?void x("already installed."):(ct=t,D(ct),z(ct),L(ct),W.Vue=ct,void(lt.installed=!0))},"undefined"!=typeof window&&window.Vue&&window.Vue.use(lt),lt})}]);